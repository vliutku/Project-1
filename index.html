
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Konu Planlayıcı v6</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #1E0000, #500000);
      color: #FFFFFF;
      padding: 30px;
    }
    .top-bar {
      position: relative;
      height: 120px;
      margin-bottom: 20px;
    }
    .calc-btn {
      position: absolute;
      left: 30px;
      top: 50%;
      transform: translateY(-50%);
      background: linear-gradient(to right, #843A37, #B75B58);
      color: #FFFFFF;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 2px 5px rgba(0,0,0,0.5);
      transition: transform 0.3s;
    }
    .calc-btn:hover {
      transform: translateY(-50%) scale(1.05);
    }
    .top-bar .logo {
      display: block;
      margin: 0 auto;
      height: 100px;
    }
    .header-text {
      position: absolute;
      right: 30px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 12px;
      color: #FFFFFF;
    }
    .container {
      max-width: 1100px;
      margin: auto;
      background: rgba(30, 0, 0, 0.8);
      padding: 30px;
      border-radius: 15px;
      color: #FFFFFF;
    }
    h2 {
      text-align: center;
      color: #FFFFFF;
      margin-bottom: 20px;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 15px;
      color: #FFFFFF;
    }
    input, .day-card, .main-btn, .calc-btn {
      color: #FFFFFF;
    }
    input {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      background: #300000;
      border: 1px solid #843A37;
      border-radius: 8px;
    }
    .row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 15px;
    }
    .row input {
      flex: 1;
      min-width: 150px;
    }
    button.main-btn {
      background: linear-gradient(to right, #843A37, #B75B58);
      border: none;
      padding: 12px;
      width: 100%;
      border-radius: 10px;
      color: #FFFFFF;
      font-weight: bold;
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.3s;
      margin-top: 10px;
    }
    button.main-btn:hover {
      transform: scale(1.03);
    }
    .days-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 30px;
      justify-content: flex-start;
    }
    .day-card {
      width: calc(20% - 16px);
      min-width: 160px;
      background: #2E0000;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 5px rgba(0,0,0,0.5);
      color: #FFFFFF;
    }
    .gold {
      background: linear-gradient(135deg, #FFD700, #FFA500);
      color: #1E0000;
      font-weight: bold;
    }
    .day-card strong {
      display: block;
      margin-bottom: 10px;
      font-size: 16px;
    }
    .day-card ul {
      padding-left: 18px;
      margin: 0;
      color: #FFFFFF;
    }
  </style>
</head>
<body>
  <div class="top-bar">
    <button class="calc-btn" onclick="window.open('https://vliutku.github.io/ankara-tip-hesaplayici-final/?v=1','_blank')">Not Hesaplayıcı</button>
    <img src="7A3688F9-996F-4661-8D84-7BDD44515448.png" alt="Logo" class="logo">
    <div class="header-text">Ali U. - 2030 mezunları</div>
  </div>

  <div class="container">
    <h2>Akıllı Konu Planlayıcı v6</h2>
    <label>Kalan Gün:</label>
    <input type="number" id="days" value="10">
    <label>Günlük Çalışma Süresi (saat):</label>
    <input type="number" id="dailyHours" value="4">
    
    <label>Konu Ekle:</label>
    <div class="row">
      <input type="text" id="topicName" placeholder="Konu adı">
      <input type="number" id="importance" placeholder="Önem (1-5)">
      <input type="number" id="noteCount" placeholder="Not sayısı">
      <input type="number" step="0.5" id="noteDuration" placeholder="Her notun süresi (saat)">
    </div>
    <button class="main-btn" onclick="addTopic()">+ Konu Ekle</button>
    <ul id="topicList" style="margin-top:15px;"></ul>
    <button class="main-btn" onclick="generatePlan()">Planı Oluştur</button>

    <div class="days-grid" id="planOutput"></div>
  </div>

  <script>
    const topics = [];
    function addTopic() {
      const name = document.getElementById("topicName").value;
      const importance = parseInt(document.getElementById("importance").value);
      const noteCount = parseInt(document.getElementById("noteCount").value);
      const duration = parseFloat(document.getElementById("noteDuration").value);
      if (!name || isNaN(importance) || isNaN(noteCount) || isNaN(duration)) {
        alert("Tüm alanları doldurun.");
        return;
      }
      topics.push({ name, importance, noteCount, duration });
      document.getElementById("topicList").innerHTML = topics.map(t =>
        `<li>${t.name} | Önem: ${t.importance} | Not: ${t.noteCount} x ${t.duration} saat</li>`
      ).join("");
      document.getElementById("topicName").value = "";
      document.getElementById("importance").value = "";
      document.getElementById("noteCount").value = "";
      document.getElementById("noteDuration").value = "";
    }
    function generatePlan() {
      const totalDays = parseInt(document.getElementById("days").value);
      const dailyHours = parseFloat(document.getElementById("dailyHours").value);
      const studyDays = totalDays - 2;
      const tasks = [];
      topics.forEach(t => {
        for (let i = 1; i <= t.noteCount; i++) {
          tasks.push({ topic: t.name, note: i, duration: t.duration, importance: t.importance });
        }
      });
      tasks.sort((a, b) => {
        if (a.topic === b.topic) return a.note - b.note;
        return b.importance - a.importance;
      });
      const plan = Array.from({ length: studyDays }, () => []);
      const usedTime = new Array(studyDays).fill(0);
      const lastNote = {};
      tasks.forEach(task => {
        for (let i = 0; i < studyDays; i++) {
          const topicsForDay = plan[i].map(t => t.topic);
          const lastAssigned = lastNote[task.topic] || 0;
          if (
            usedTime[i] + task.duration <= dailyHours &&
            (!topicsForDay.includes(task.topic)) &&
            task.note === lastAssigned + 1
          ) {
            plan[i].push(task);
            usedTime[i] += task.duration;
            lastNote[task.topic] = task.note;
            break;
          }
        }
      });
      const output = document.getElementById("planOutput");
      output.innerHTML = "";
      for (let i = 0; i < studyDays; i++) {
        const dayCard = document.createElement("div");
        dayCard.className = "day-card";
        dayCard.innerHTML = `<strong>Gün ${i + 1}</strong><ul>` +
          plan[i].map(t => `<li>${t.topic} - Not ${t.note} (${t.duration} saat)</li>`).join("") +
          "</ul>";
        output.appendChild(dayCard);
      }
      const gold1 = document.createElement("div");
      gold1.className = "day-card gold";
      gold1.innerHTML = `<strong>Gün ${totalDays - 1} - Çıkmış</strong><ul><li>Çıkmış soru çözümü</li></ul>`;
      output.appendChild(gold1);
      const gold2 = document.createElement("div");
      gold2.className = "day-card gold";
      gold2.innerHTML = `<strong>Gün ${totalDays} - Çıkmış</strong><ul><li>Genel tekrar ve eksik tamamlama</li></ul>`;
      output.appendChild(gold2);
    }
  </script>
</body>
</html>
